<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace= "common" >
	
    <select id="getCommonCodeList" resultType="com.goodbyenote.bapdosaptlweb.common.model.CommonCodeVO">
    	/* common.getCommonCodeList() */
		SELECT 	
			M.*
		FROM 
			CommonCode M
			LEFT OUTER JOIN CommonCode P on M.parentCode = P.code
		ORDER BY
			CASE WHEN
                P.dispOrder IS NULL
            THEN
                M.dispOrder * 100
            ELSE
                P.dispOrder * 100 + M.dispOrder
            END
    </select>
    
    <select id="getCommonCodeParents" resultType="com.goodbyenote.bapdosaptlweb.common.model.CommonCodeVO">
    	/* common.getCommonCodeList() */
		SELECT 	
			M.*
		FROM 
			CommonCode M
		WHERE
			parentCode IS NULL
		ORDER BY
			M.dispOrder
    </select>
    

</mapper>